# Python Bytes 444

Sponsored by DigitalOcean: [**pythonbytes.fm/digitalocean-gen-ai**](https://pythonbytes.fm/digitalocean-gen-ai) Use code **DO4BYTES** and get $200 in free credit

**Connect with the hosts**

- Michael: [@mkennedy@fosstodon.org](https://fosstodon.org/@mkennedy) / [@mkennedy.codes](https://bsky.app/profile/mkennedy.codes) (bsky)
- Brian: [@brianokken@fosstodon.org](https://fosstodon.org/@brianokken) / [@brianokken.bsky.social](https://bsky.app/profile/brianokken.bsky.social)
- Show: [@pythonbytes@fosstodon.org](https://fosstodon.org/@pythonbytes) / [@pythonbytes.fm](https://bsky.app/profile/pythonbytes.fm) (bsky)

Join us on YouTube at [**pythonbytes.fm/live**](https://pythonbytes.fm/stream/live) to be part of the audience. Usually **Monday** at 10am PT. Older video versions available there too.

Finally, if you want an artisanal, hand-crafted digest of every week of the show notes in email form? Add your name and email to [our friends of the show list](https://pythonbytes.fm/friends-of-the-show), we'll never share it.

**Brian #1:** [Coverage.py regex pragmas](https://nedbatchelder.com/blog/202507/coveragepy_regex_pragmas.html)

- Ned Batchelder

- The regex implementation of how [coverage.py](http://coverage.py) recognizes pragmas is pretty amazing.

- It’s extensible through plugins

  - [covdefaults](https://pypi.org/project/covdefaults/) adds a bunch of default exclusions, and also platform- and version-specific comment syntaxes.
  - [coverage-conditional-plugin](https://pypi.org/project/coverage-conditional-plugin/) gives you a way to create comment syntaxes for entire files, for whether other packages are installed, and so on.

- A 

  change

   from last year (as part of 

  coverage.py

   7.6  allows multiline regexes, which let’s us do things like:

  - Exclude an entire file with `\\A(?s:.*# pragma: exclude file.*)\\Z`
  - Allow start and stop delimiters with `# no cover: start(?s:.*?)# no cover: stop`
  - Exclude empty placeholder methods with `^\\s*(((async )?def .*?)?\\)(\\s*->.*?)?:\\s*)?\\.\\.\\.\\s*(#|$)`
  - See Ned’s article for explanations of these

**Michael #2: [Python of Yore](https://pypi.org/project/yore/)**

- via Matthias
- Use `YORE: ...` comments to highlight CPython version dependencies.

```python
# YORE: EOL 3.8: Replace block with line 4.
if sys.version_info < (3, 9):
    from astunparse import unparse
else:
    from ast import unparse
```

Then check when they go out of support:

```bash
$ yore check --eol-within '5 months'
./src/griffe/agents/nodes/_values.py:11: Python 3.8 will reach its End of Life within approx. 4 months
```

Even fix them with `fix` .

**Michael #3: [nox-uv](https://github.com/dantebben/nox-uv)**

- via John Hagen
- What nox-uv does is make it very simple to install uv extras and/or dependency groups into a nox session's virtual environment.
- The versions installed are constrained by uv's lockfile meaning that everything is deterministic and pinned.
- Dependency groups make it very easy to install only want is necessary for a session (e.g., only linting dependencies like Ruff, or main dependencies + mypy for type checking).

**Brian #4: A couple Django items**

- **Stop Using Django's squashmigrations: There's a Better Way**
  - Johnny Metz
  - Resetting migrations is sometimes the right thing.
  - Overly simplified summary: delete migrations and start over
- **dj-lite**
  - Adam Hill
  - Use SQLite in production with Django
  - “Simplify deploying and maintaining production Django websites by using SQLite in production. `dj-lite` helps enable the best performance for SQLite for small to medium-sized projects. It requires Django 5.1+.”

**Extras**

Brian:

- Test & Code 237: FastAPI Cloud with Sebastian Ramirez
  - will be out later today
- pythontest.com: pytest fixtures nuts and bolts - revisited
  - A blog series that I wrote a long time ago.
  - I’ve updated it into more managable bite-sized pieces, updated and tested with Python 3.13 and pytest 8

Michael:

- New course: [**Just Enough Python for Data Scientists**](https://training.talkpython.fm/courses/just-enough-python-for-data-scientists)
- [My live stream about uv](https://www.youtube.com/watch?v=Uh8CMtaWPpc) is now on YouTube
- [Cursor CLI](https://cursor.com/en/cli): Built to help you ship, right from your terminal.

**Joke: [Copy/Paste](https://www.reddit.com/r/programminghumor/s/90oFJlauGv)**