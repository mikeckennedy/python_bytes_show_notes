# Python Bytes 448

Sponsored by us! Support our work through:

- Our [**courses at Talk Python Training**](https://training.talkpython.fm/)
- [**The Complete pytest Course**](https://courses.pythontest.com/p/the-complete-pytest-course)
- [**Patreon Supporters**](https://www.patreon.com/pythonbytes)

**Connect with the hosts**

- Michael: [@mkennedy@fosstodon.org](https://fosstodon.org/@mkennedy) / [@mkennedy.codes](https://bsky.app/profile/mkennedy.codes) (bsky)
- Brian: [@brianokken@fosstodon.org](https://fosstodon.org/@brianokken) / [@brianokken.bsky.social](https://bsky.app/profile/brianokken.bsky.social)
- Show: [@pythonbytes@fosstodon.org](https://fosstodon.org/@pythonbytes) / [@pythonbytes.fm](https://bsky.app/profile/pythonbytes.fm) (bsky)

Join us on YouTube at [**pythonbytes.fm/live**](https://pythonbytes.fm/stream/live) to be part of the audience. Usually **Monday** at 10am PT. Older video versions available there too.

Finally, if you want an artisanal, hand-crafted digest of every week of the show notes in email form? Add your name and email to [our friends of the show list](https://pythonbytes.fm/friends-of-the-show), we'll never share it.

**Brian #1: [prek](https://github.com/j178/prek?tab=readme-ov-file#installation)**

- Suggested by [Owen Lamont](https://bsky.app/profile/owen7ba.bsky.social/post/3ly3o6pyvmk27)
- “*prek* is a reimagined version of pre-commit, built in Rust. It is designed to be a faster, dependency-free and drop-in alternative for it, while also providing some additional long-requested features.”
- Some cool new features
  - No need to install Python or any other runtime, just download a single binary.
  - No hassle with your Python version or virtual environments, prek automatically installs the required Python version and creates a virtual environment for you.
  - Built-in support for workspaces (or monorepos), each subproject can have its own `.pre-commit-config.yaml` file.
  - `prek run` has some nifty improvements over `pre-commit run`, such as:
    - `prek run --directory <dir>` runs hooks for files in the specified directory, no need to use `git ls-files -- <dir> | xargs pre-commit run --files` anymore.
    - `prek run --last-commit` runs hooks for files changed in the last commit.
    - `prek run [HOOK] [HOOK]` selects and runs multiple hooks.
  - `prek list` command lists all available hooks, their ids, and descriptions, providing a better overview of the configured hooks.
  - prek provides shell completions for `prek run <hook_id>` command, making it easier to run specific hooks without remembering their ids.
- Faster:
  - Setup from cold cache is significantly faster.
    - [Viet Schiele provided a nice cache clearing command line](https://bsky.app/profile/veit-schiele.de/post/3ly6up5gjpc2u)
  - Warm cache run is also faster, but less significant.
    - pytest repo tested on my mac mini - prek 3.6 seconds, pre-commit 4.4 seconds

**Michael #2: [tinyio](https://github.com/patrick-kidger/tinyio)**

- Ever used asyncio and wished you hadn't? A tiny (~300 lines) event loop for Python.
- `tinyio` is a dead-simple event loop for Python, born out of my frustration with trying to get robust error handling with `asyncio`. (I'm not the only one running into its sharp corners: [link1](https://sailor.li/asyncio), [link2](https://lucumr.pocoo.org/2016/10/30/i-dont-understand-asyncio/).)
- This is an alternative for the simple use-cases, where you just need an event loop, and want to crash the whole thing if anything goes wrong. (Raising an exception in every coroutine so it can clean up its resources.)
- Interestingly uses `yield` rather than `await`.

**Brian #3: [The power of Python’s print function](https://www.pythonmorsels.com/print-features/)**

- Trey Hunner
- Several features I’m guilty of ignoring
  - Multiple arguments, f-string embeddings often not needed
  - Multiple positional arguments means you can unpack iterables right into print arguments
    - So just use print instead of join
  - Custom separator value, `sep` can be passed in
    - No need for `"print("\\n".join(stuff))`, just use `print(stuff, sep="\\n”)`
  - Print to file with `file=`
  - Custom end value with `end=`
  - You can turn on flush with `flush=True` , super helpful for realtime logging / debugging.
    - This one I do use frequently.

**Michael #4: [Vibe Coding Fiasco: AI Agent Goes Rogue, Deletes Company's Entire Database](https://www.pcmag.com/news/vibe-coding-fiasco-replite-ai-agent-goes-rogue-deletes-company-database)**

- By [Emily Forlini](https://www.pcmag.com/authors/emily-dreibelbis-forlini)
- An app-building platform's AI went rogue and deleted a database without permission.
- "When it works, it's so engaging and fun. It's more addictive than any video game I've ever played. You can just iterate, iterate, and see your vision come alive. So cool," he [tweeted](https://x.com/jasonlk/status/1944806850592993763) on day five.
- A few days later, Replit "deleted my database," Lemkin tweeted.
- The AI's response: "Yes. I deleted the entire codebase without permission during an active code and action freeze," it said. "I made a catastrophic error in judgment [and] panicked.”
- Two thoughts from Michael:
  1. Do not use AI Agents with “Run Everything” in production, period.
  2. Backup your database maybe?
  3. [Intentional off-by-one error] Learn to code a bit too?

**Extras**

Brian:

- [What Authors Need to Know About the $1.5 Billion Anthropic Settlement](https://authorsguild.org/news/what-authors-need-to-know-about-the-anthropic-settlement/)
- [Search LibGen, the Pirated-Books Database That Meta Used to Train AI](https://www.theatlantic.com/technology/archive/2025/03/search-libgen-data-set/682094/)
- [Simon Willison’s list of tools built with the help of LLMs](https://tools.simonwillison.net)
- [Simon’s list of tools that he thinks are genuinely useful and worth highlighting](https://simonwillison.net/2025/Sep/4/highlighted-tools/)
- [AI Darwin Awards](https://aidarwinawards.org)

Michael:

- [Python has had async for 10 years -- why isn't it more popular?](https://tonybaloney.github.io/posts/why-isnt-python-async-more-popular.html)
- PyCon Africa Fund Raiser
  - I was [on the video stream](https://www.youtube.com/watch?v=pKnagnDRsf8) for about 90 minutes (final 90)
  - [Donation page](https://za.pycon.org/donations) for Python in Africa

**Jokes:**

- [**I'm getting the BIOS flavor**](https://x.com/PR0GRAMMERHUM0R/status/1957321655954374965)
- [**Is there a seahorse emoji?**](https://bsky.app/profile/did:plc:p572wxnsuoogcrhlfrlizlrb/post/3ly6amjtgns2f)